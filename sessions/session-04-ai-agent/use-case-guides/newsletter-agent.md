# Newsletter Generation Agent - Use Case Guide

## Overview
Build an AI agent that automatically aggregates community updates, tech news, and member wins to draft the weekly WCC newsletter, saving hours of manual curation time.

## Problem Statement

**Challenge**: Curating a weekly newsletter involves
- Scouring Slack channels for "wins" and announcements
- Searching the web for relevant tech news
- Writing engaging summaries
- Formatting everything into HTML or Markdown
- Ensuring the tone matches the inclusive WCC brand

**Why it matters**: Consistent communication keeps the community alive, but manual curation causes volunteer burnout.

## What You'll Build

A content generation agent that:

- Takes raw notes or links as input
- Summarizes long articles into punchy blurbs
- Categorizes content (Events, Wins, Tech News)
- Generates a finalized newsletter in Markdown/HTML
- Applies a consistent, encouraging voice

## Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Input Sources              â”‚
â”‚ (Slack dumps, Links, Notes)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gemini API (Editor Mode)   â”‚
â”‚ (System Prompt: WCC Editor)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content Processor          â”‚
â”‚ (Summarization, Categorization)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Final Draft (Markdown)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


### Step 1: Define Content Structure

Create newsletter_template.py:

```python
NEWSLETTER_TEMPLATE = """
# ðŸš€ WCC Weekly Digest: {date}
## ðŸ‘‹ Welcome Note
{intro_text}
## ðŸ† Community Wins
Here is what our amazing members achieved this week:
{wins_section}
## ðŸ“… Upcoming Events
Don't miss out on these sessions:
{events_section}
## ðŸ“° Tech Radar
News you should know:
{tech_news_section}
---
*Generated by WCC Newsletter Agent*
"""
```

### Step 2: Build the Editor Agent

Create newsletter-agent/agent.py:

```python
import os
from dotenv import load_dotenv
# Import the core Agent class from the ADK
from google.adk.agents.llm_agent import Agent
from datetime import date
from newsletter_template import NEWSLETTER_TEMPLATE

load_dotenv()

def _generate_section(raw_input: str, section_name: str, model) -> str:
    """Internal helper to rewrite a specific section using the LLM."""
    if not raw_input or raw_input.strip() == "":
        return " * *No updates this week.*"
        
    prompt = f"""
    SECTION: {section_name}
    RAW INPUT: {raw_input}
    """
    try:
        response = model.generate_content(prompt)
        return response.text
    except Exception as e:
        return f"Error generating section: {str(e)}"

def draft_newsletter(community_wins: str, upcoming_events: str, tech_news: str) -> str:
    """
    Compiles the weekly community newsletter. 
    Uses an internal AI 'Editor' to summarize and format raw notes into a polished Markdown draft.
    
    Args:
        community_wins: Raw text/notes about member achievements (e.g., "Sarah got a job, Ami learned Python").
        upcoming_events: Raw text/notes about future meetings (e.g., "Workshop on Friday at 5pm").
        tech_news: Raw links or notes about tech industry news.
    """
    model = genai.GenerativeModel('gemini-2.5-flash-lite')
    
    try:
        # 1. Generate the Intro
        intro_prompt = f"Write a short, inspiring 2-sentence welcome note for this week's newsletter."
        intro = model.generate_content(intro_prompt).text
        
        # 2. Process Sections in parallel (conceptually)
        wins_section = _generate_section(community_wins, "Community Wins", model)
        events_section = _generate_section(upcoming_events, "Upcoming Events", model)
        news_section = _generate_section(tech_news, "Tech News", model)
        
        # 3. Assemble
        final_draft = NEWSLETTER_TEMPLATE.format(
            date=date.today().strftime("%B %d, %Y"),
            intro_text=intro,
            wins_section=wins_section,
            events_section=events_section,
            tech_news_section=news_section
        )
        
        return final_draft
        
    except Exception as e:
        return f"Failed to generate newsletter: {str(e)}"

# --- AGENT DEFINITION ---

root_agent = Agent(
    name="newsletter_agent",
    model="gemini-2.5-flash-lite",
    instruction="""You are the Chief Editor for the Women Coding Community Newsletter.
    Your Tone: Inclusive, energetic, professional, and empowering.
    Your Task:
    1. Read the raw input provided.
    2. Categorize items into: Wins, Events, or Tech News.
    3. Rewrite each item to be concise and engaging (max 2 sentences each).
    4. Generate a warm introduction paragraph for the week.
    """,
    tools=[draft_newsletter]
)

```

### Enhancement Ideas
**Slack Integration**: Automatically pull messages from the #wins channel using the Slack API.
**Image Generation**: Use image generation models and a new tool that generates the image for the newsletter.

### Submission Checklist

- âœ… Agent generates coherent text
- âœ… Follows the requested structure/template
- âœ… Tone is appropriate for WCC
- âœ… Handles empty inputs gracefully
- âœ… README included with setup steps

---

## Resources

- [Google ADK Documentation](https://google.github.io/adk-docs/get-started/)
- [Gemini API Documentation](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini-api)
- [Python Documentation](https://docs.python.org)


---

## Questions?

Ask in the [WCC Slack](https://womencodingcommunity.slack.com/archives/C09L9C3FJP7) channel

---